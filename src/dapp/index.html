<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <title>FlightSurety</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="#">FlightSurety</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="#insurance">Insurance</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#airlines">Airlines</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#flights">Flights</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#admin">Admin</a>
              </li>
            </ul>
          </div>
    </nav>

    <main id="admin" class="container">
            <label class="h1">Admin</label>
            <label class="h5">This is basically the cheat panel that wouldn't exist in production.  The contract will read
                the available accounts from Ganache (or another web3 provider in contract.js) and you can set what 
                address you're interacting with the dapp from using the drop down below.  This allows you to test features of the dapp
                from various address perspectives. You can also check the contract owner and set the operational status.
            </label>
            <div class="row top-20">
                    <table>
                            <tr>
                                <td><label class="form">Operational:</label></td>
                                <td><label class="form" id="operational-status">Unknown</label></td>
                                <td><div><btn class="btn btn-primary" id="btn-operational-toggle">Toggle Operational Status</btn></div></td>
                                <td><div><btn class="btn btn-primary" id="btn-operational-status" hidden=true>Refresh Operational Status</btn></div></td>
                            </tr>
                            <tr>
                                <td><div><label class="form">Select:</label></div></td>
                                <td><div><select id="available-accounts" title="select an active acount for operations"></select></div></td>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Account:</label></div><div>
                                    <td><div><label class="form" id=acc-address>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Registered:</label></div><div>
                                    <td><div><label class="form" id=acc-registered>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Funded:</label></div><div>
                                    <td><div><label class="form" id=acc-funded>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Nominated:</label></div><div>
                                    <td><div><label class="form" id=acc-nominated>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Credit:</label></div><div>
                                    <td><div><label class="form" id=acc-credit>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Balance:</label></div><div>
                                    <td><div><label class="form" id=acc-balance>unknown</label></div><div>
                            </tr>
                            <tr>
                                    <td><div><label class="form">Contract Owner:</label></div><div>
                                    <td><div><label class="form" id=acc-owner>unknown</label></div><div>
                            </tr>
                            <tr>
                                <td><div><btn class="btn btn-primary" id="btn-refresh-status">Refresh Status</btn></div></td>
                            </tr>
                            <tr>
                                <td><label class="form" hidden="true">Oracles:</label></td>
                                <td><input type="text" id="oracle-count" value="25" hidden="true"></div></td>
                            </tr>
                            <tr>
                                <td><div><btn class="btn btn-primary" id="btn-register-oracles" hidden="true">Register Oracles</btn></div></td>
                            </tr>
                        </table>
            </div>
            <div id="admin-messages" class="top-20">
            </div>
        </main>

        <main id="airlines" class="container">
                <label class="h1">Airlines</label><br>
                <label class="h5">Hover over elements for usage instructions. For demo purposes I pre-populate a list of selectable airlines.
                    When the app starts only ZeroAirlines is registered. The nomination originates from the 
                    currently active account.  Select your active account from the admin panel. Fund will also fund the airline associated with the currently active account,
                    not the one selected in the airline select dropdown.</label>
                <table>
                    <tr>
                        <td><div><select id="airline" title="select an avilable airline"></select></div></td>
                        <td><div><btn class="btn btn-primary" id="btn-airline-register" title="call originates from the currently active account">Nominate an Airline</btn></div></td>                    
                    </tr>
                    <tr>
                        <td><div><input type="text" id="fund-amount" title="amount to fund airline in ether"></input></div></td>
                        <td><div><btn class="btn btn-primary" id="btn-airline-fund" title="funds the airline associated with the active account">Fund Your Airline</btn></div></td>
                    </tr>
                </table>
                <div id="airline-messages" class="top-20">
                </div>
        </main>

        <main id="flights" class="container">
                <label class="h1">Flights</label>
                <label class="h5">The application is pre-populated with a list of available flight, but they are not
                    registered flights.  Use this panel to register flights.  Whatever airline is associated with the
                    currently active account will register the flight using the current timestamp.  Each registered flight
                    will be added to list in the Insurance panel for passengers to insure available flights.
                </label>
                <table>
                <table>
                    <tr>
                        <td><label class="form">Select Flight</label></td>
                        <td><select id="flight-select" title="select an avilable flight"></select></div></td>
                    </tr>
                    <tr>
                        <td><div><btn class="btn btn-primary" id="btn-flights-register">Register</btn></div></td>
                    </tr>
                </table>
                <div id="flight-messages" class="top-20">
                </div>
        </main>
    

    <main id="insurance" class="container">
        <label class="h1">Insurance</label>
        <label class="h5">Select a flight and a premium and insure a flight as the current active account.  This panel
            also allows passengers (the active account) to withdraw any balance they have owning to them.
        </label>
        <table>
            <tr>
                <td><label class="form">Select Flight:</label></td>
                <td><select id="registered-flight-select" title="select an avilable flight"></select></div></td>
            </tr>
            <tr>
                    <td><label class="form">Premium</label></td>
                    <td><input type="text" id="premium"></div></td>
            </tr>
            <tr>
                <td><div><btn class="btn btn-primary" id="btn-purchase-insurance">Purchase Insurance</btn></div></td>
                <td><div><btn class="btn btn-primary" id="btn-withdraw-funds">Withdraw Funds</btn></div></td>
            </tr>
            <tr>
                <td><div><btn class="btn btn-primary" id="submit-oracle">Fetch Flight Status</btn></div></td>
            </tr>
        </table>
        <div id="insurance-messages" class="top-20">
        </div>
        </table>
    </main>


</body>

</html>